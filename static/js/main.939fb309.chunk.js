(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(21),o=n.n(a),i=(n(30),n(31),n(12)),r=n(11),l=n.n(r),j=n(24),u=n(22),d=n(5),m=(n(33),n(2)),f=function(e){return Object(m.jsxs)("div",{className:"FetchPanel",children:[Object(m.jsxs)("h1",{className:"FetchPanel__title",children:[Object(m.jsx)("span",{children:"Dad"})," Jokes"]}),Object(m.jsx)("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",alt:"Crying with laughter Emoji"}),Object(m.jsx)("button",{className:"FetchPanel__btn-more",onClick:e.onFetch,children:"Fetch Jokes"})]})},h=(n(35),n(36),function(e){var t=e.votes,n=e.text,c=(e.id,e.upvote),s=e.downvote;return console.log("RERENDER"),Object(m.jsxs)("div",{className:"Joke",children:[Object(m.jsxs)("div",{className:"Joke__buttons",children:[Object(m.jsx)("i",{className:"fas fa-arrow-up",onClick:c}),Object(m.jsx)("span",{className:"Joke__votes",style:{borderColor:t>=15?"#4CAF50":t>=12?"#8BC34A":t>=9?"#CDDC39":t>=6?"#FFEB3B":t>=3?"#FFC107":t>=0?"#FF9800":"#f44336"},children:t}),Object(m.jsx)("i",{className:"fas fa-arrow-down",onClick:s})]}),Object(m.jsx)("div",{className:"Joke__text",children:n}),Object(m.jsx)("div",{className:"Joke__smiley",children:Object(m.jsx)("i",{className:t>=15?"em em-rolling_on_the_floor_laughing":t>=12?"em em-laughing":t>=9?"em em-smiley":t>=6?"em em-slightly_smiling_face":t>=3?"em em-neutral_face":t>=0?"em em-confused":"em em-angry"})})]})}),b=s.a.memo(h),O=function(e){var t=e.jokes,n=e.handleVote,c=t.map((function(e){return Object(m.jsx)(b,{id:e.id,text:e.text,votes:e.votes,upvote:function(){return n(e.id,1)},downvote:function(){return n(e.id,-1)}},e.id)}));return Object(m.jsx)("div",{className:"JokeList",children:t&&c})},x=s.a.memo(O),g=n(23),v=n.n(g);n(55);var k=function(){var e=JSON.parse(window.localStorage.getItem("jokes")||"[]"),t=Object(c.useState)(e),n=Object(d.a)(t,2),s=n[0],a=n[1],o=Object(c.useState)(!1),r=Object(d.a)(o,2),h=r[0],b=r[1],O=new Set(s.map((function(e){return e.text})));Object(c.useEffect)((function(){0===s.length?g():a(k(s)),console.log("how often am I called?")}),[]);var g=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<10)){e.next=8;break}return e.next=4,v.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 4:n=e.sent,O.has(n.data.joke)||(c={text:n.data.joke,id:n.data.id,votes:0},t.push(c)),e.next=1;break;case 8:a([].concat(Object(j.a)(k(s)),t)),b(!1),window.localStorage.setItem("jokes",JSON.stringify(s));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){return e.sort((function(e,t){return t.votes-e.votes}))};return h?Object(m.jsxs)("div",{className:"JokeList__spinner",children:[Object(m.jsx)("i",{className:"far fa-8x fa-laugh fa-spin"}),Object(m.jsx)("h1",{className:"JokeList__title",children:"Loading"})]}):Object(m.jsxs)("main",{className:"JokePage",children:[Object(m.jsx)(f,{onFetch:function(){b(!0),g()}}),Object(m.jsx)(x,{jokes:s,handleVote:function(e,t){a((function(n){return n.map((function(n){return e===n.id?Object(i.a)(Object(i.a)({},n),{},{votes:n.votes+t}):n}))})),window.localStorage.setItem("jokes",JSON.stringify(s))}})]})},p=n(25),_=n(1),N=function(){return Object(m.jsx)(p.a,{basename:"/React-Dad-Jokes",children:Object(m.jsx)(_.c,{children:Object(m.jsx)(_.a,{path:"/",element:Object(m.jsx)(k,{})})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};o.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),w()}},[[56,1,2]]]);
//# sourceMappingURL=main.939fb309.chunk.js.map