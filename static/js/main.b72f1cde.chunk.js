(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),o=n(19),a=n.n(o),i=(n(27),n(28),n(10)),r=n(8),l=n.n(r),j=n(22),u=n(20),d=n(9),m=(n(30),n(31),n(0)),f=function(e){var t=e.votes,n=e.text,s=(e.id,e.upvote),c=e.downvote;return console.log("RERENDER"),Object(m.jsxs)("div",{className:"Joke",children:[Object(m.jsxs)("div",{className:"Joke__buttons",children:[Object(m.jsx)("i",{className:"fas fa-arrow-up",onClick:s}),Object(m.jsx)("span",{className:"Joke__votes",style:{borderColor:t>=15?"#4CAF50":t>=12?"#8BC34A":t>=9?"#CDDC39":t>=6?"#FFEB3B":t>=3?"#FFC107":t>=0?"#FF9800":"#f44336"},children:t}),Object(m.jsx)("i",{className:"fas fa-arrow-down",onClick:c})]}),Object(m.jsx)("div",{className:"Joke__text",children:n}),Object(m.jsx)("div",{className:"Joke__smiley",children:Object(m.jsx)("i",{className:t>=15?"em em-rolling_on_the_floor_laughing":t>=12?"em em-laughing":t>=9?"em em-smiley":t>=6?"em em-slightly_smiling_face":t>=3?"em em-neutral_face":t>=0?"em em-confused":"em em-angry"})})]})},b=c.a.memo(f),h=n(21),O=n.n(h),x=function(e){return Object(m.jsxs)("div",{className:"JokeList__sidebar",children:[Object(m.jsxs)("h1",{className:"JokeList__title",children:[Object(m.jsx)("span",{children:"Dad"})," Jokes"]}),Object(m.jsx)("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",alt:"Crying with laughter Emoji"}),Object(m.jsx)("button",{className:"JokeList__btn-more",onClick:e.onFetch,children:"Fetch Jokes"})]})},k=function(e){var t=JSON.parse(window.localStorage.getItem("jokes")||"[]"),n=Object(s.useState)(t),c=Object(d.a)(n,2),o=c[0],a=c[1],r=Object(s.useState)(!1),f=Object(d.a)(r,2),h=f[0],k=f[1],v=new Set(o.map((function(e){return e.text})));Object(s.useEffect)((function(){0===o.length?g():a(_(o)),console.log("how often am I called?")}),[]);var g=function(){var t=Object(u.a)(l.a.mark((function t(){var n,s,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[];case 1:if(!(n.length<e.numJokesToFetch)){t.next=8;break}return t.next=4,O.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 4:s=t.sent,v.has(s.data.joke)||(c={text:s.data.joke,id:s.data.id,votes:0},n.push(c)),t.next=1;break;case 8:a([].concat(Object(j.a)(_(o)),n)),k(!1),window.localStorage.setItem("jokes",JSON.stringify(o));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(e,t){a((function(n){return n.map((function(n){return e===n.id?Object(i.a)(Object(i.a)({},n),{},{votes:n.votes+t}):n}))})),window.localStorage.setItem("jokes",JSON.stringify(o))},_=function(e){return e.sort((function(e,t){return t.votes-e.votes}))};if(h)return Object(m.jsxs)("div",{className:"JokeList__spinner",children:[Object(m.jsx)("i",{className:"far fa-8x fa-laugh fa-spin"}),Object(m.jsx)("h1",{className:"JokeList__title",children:"Loading"})]});var J=o.map((function(e){return Object(m.jsx)(b,{id:e.id,text:e.text,votes:e.votes,upvote:function(){return p(e.id,1)},downvote:function(){return p(e.id,-1)}},e.id)}));return Object(m.jsxs)("div",{className:"JokeList",children:[Object(m.jsx)(x,{onFetch:function(){k(!0),g()}}),Object(m.jsx)("div",{className:"JokeList__jokes",children:o&&J})]})},v=c.a.memo(k),g=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(v,{numJokesToFetch:10})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),o(e),a(e)}))};a.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root")),p()}},[[51,1,2]]]);
//# sourceMappingURL=main.b72f1cde.chunk.js.map